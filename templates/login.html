{% extends "base.html" %}

{% block title %}🔐 Login{% endblock %}
{% block body_class %}login-bg{% endblock %}

{% block content %}
  <form method="POST" class="form-box" style="max-width: 400px; margin: 60px auto 0 auto;">
    <h2 class="form-title">🔐 Login to SuperMart</h2>

    {% with messages = get_flashed_messages() %}
      {% if messages %}
        <div class="flash {{ 'error' if '❌' in messages[0] else 'success' }}">
          {{ messages[0] }}
        </div>
      {% endif %}
    {% endwith %}

    <label for="username">Username</label>
    <input type="text" name="username" id="username" required autofocus>

    <label for="password">Password</label>
    <input type="password" name="password" id="password" required>

    <label style="margin-top: 10px;">
      <input type="checkbox" onclick="togglePassword()"> Show password
    </label>

    <button type="submit" class="submit-btn">Login</button>
  </form>

  <script>
    function togglePassword() {
      const pw = document.getElementById("password");
      pw.type = pw.type === "password" ? "text" : "password";
    }
  </script>
{% endblock %}