{% extends "base.html" %}

{% block title %}ðŸ“œ Audit Log{% endblock %}

{% block content %}
  <div class="form-box" style="max-width: 700px; margin: 40px auto 0 auto;">
    <h2 class="form-title" style="margin-bottom: 18px;">ðŸ“œ System Audit Log</h2>

    {% with messages = get_flashed_messages() %}
      {% if messages %}
        <div class="flash">{{ messages[0] }}</div>
      {% endif %}
    {% endwith %}

    {% if logs and logs|length > 0 %}
    <table class="styled-table" style="margin-top: 10px;">
      <thead>
        <tr>
          <th>Actor</th>
          <th>Action</th>
          <th>Timestamp</th>
        </tr>
      </thead>
      <tbody>
        {% for row in logs %}
        <tr>
          <td>{{ row[0] }}</td>
          <td>{{ row[1] }}</td>
          <td>{{ row[2] }}</td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
    {% else %}
      <div class="flash">No audit log entries found.</div>
    {% endif %}
  </div>
{% endblock %}
